<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transactions</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="dashboard.css" />
    <style>
      .sidebar.minimized {
        width: 78px;
      }

      .sidebar.minimized h5 {
        display: none;
      }

      .sidebar.minimized .nav-link {
        position: relative;
        justify-content: center;
        gap: 0;
      }

      .sidebar.minimized .nav-link span {
        display: none;
        position: absolute;
        left: 44px;
        top: 50%;
        transform: translateY(-50%);
        white-space: nowrap;
        background: #111827;
        color: #fff;
        padding: 6px 10px;
        border-radius: 8px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        z-index: 20;
      }

      .sidebar.minimized .nav-link:hover span {
        display: inline-block;
      }

      .content-wrap {
        padding: 1.25rem;
      }

      .filters-card,
      .table-card {
        border: 0;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(17, 24, 39, 0.08);
      }

      .table th,
      .table td {
        white-space: nowrap;
        font-size: 13px;
      }

      @media (max-width: 991.98px) {
        .sidebar.minimized {
          width: 100%;
        }

        .sidebar.minimized h5 {
          display: block;
        }

        .sidebar.minimized .nav-link {
          justify-content: flex-start;
          gap: 10px;
        }

        .sidebar.minimized .nav-link span {
          display: inline;
        }
      }
    </style>
  </head>
  <body>
    <div class="dashboard-layout">
      <aside class="sidebar minimized p-3">
        <h5 class="mb-4 fw-bold text-white">Dashboard</h5>
        <nav class="nav flex-column gap-2">
          <a class="nav-link active" href="transactions.html" title="All Transactions"><i class="bi bi-receipt-cutoff"></i><span>All Transactions</span></a>
          <a class="nav-link" href="#" title="Specs"><i class="bi bi-gear"></i><span>Specs</span></a>
          <a class="nav-link" href="#" title="Special Notes"><i class="bi bi-journal-text"></i><span>Special Notes</span></a>
          <a class="nav-link" href="#" title="QG Inspection Date"><i class="bi bi-calendar-check"></i><span>QG Inspection Date</span></a>
          <a class="nav-link" href="#" title="Payment Response"><i class="bi bi-reply-all"></i><span>Payment Response</span></a>
          <a class="nav-link" href="#" title="Payment Required Lid"><i class="bi bi-credit-card"></i><span>Payment Required Lid</span></a>
          <a class="nav-link" href="#" title="OverDue Invoice"><i class="bi bi-exclamation-triangle"></i><span>OverDue Invoice</span></a>
        </nav>
      </aside>

      <div class="main-area">
        <nav class="navbar navbar-expand-lg topbar px-4 py-3">
          <a class="navbar-brand fw-bold" href="dashboard.html">Dashboard</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navLinks"
            aria-controls="navLinks"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navLinks">
            <ul class="navbar-nav ms-auto gap-lg-2">
              <li class="nav-item"><a class="nav-link active" href="transactions.html">All Transactions</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Specs</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Special Notes</a></li>
              <li class="nav-item"><a class="nav-link" href="#">QG Inspection Date</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Payment Response</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Payment Required Lid</a></li>
              <li class="nav-item"><a class="nav-link" href="#">OverDue Invoice</a></li>
              <li class="nav-item">
                <a class="btn btn-outline-danger btn-sm ms-lg-2 mt-2 mt-lg-0" href="index.html">Logout</a>
              </li>
            </ul>
          </div>
        </nav>

        <main class="content-wrap">
          <section class="card filters-card mb-4">
            <div class="card-body">
              <div class="row g-3 align-items-end flex-xl-nowrap">
                <div class="col-12 col-lg-6 col-xl-3">
                  <label class="form-label fw-semibold">Keyword</label>
                  <input type="text" class="form-control" placeholder="Enter keyword" />
                </div>
                <div class="col-12 col-lg-6 col-xl-2">
                  <label class="form-label fw-semibold">Transaction Id</label>
                  <div class="d-flex gap-2">
                    <select class="form-select w-50">
                      <option selected>Equals</option>
                      <option>Contains</option>
                      <option>Starts With</option>
                    </select>
                    <input type="text" class="form-control" placeholder="Transaction value" />
                  </div>
                </div>
                <div class="col-12 col-lg-6 col-xl-2">
                  <label class="form-label fw-semibold">Transaction Id</label>
                  <div class="d-flex gap-2">
                    <select class="form-select w-50">
                      <option selected>Equals</option>
                      <option>Contains</option>
                      <option>Starts With</option>
                    </select>
                    <input type="text" class="form-control" placeholder="Transaction value" />
                  </div>
                </div>
                <div class="col-12 col-lg-6 col-xl-2">
                  <label class="form-label fw-semibold">Transaction Id</label>
                  <div class="d-flex gap-2">
                    <select class="form-select w-50">
                      <option selected>Equals</option>
                      <option>Contains</option>
                      <option>Starts With</option>
                    </select>
                    <input type="text" class="form-control" placeholder="Transaction value" />
                  </div>
                </div>
                <div class="col-12 col-lg-4 col-xl-2">
                  <label class="form-label fw-semibold">All</label>
                  <select class="form-select">
                    <option selected>All</option>
                    <option>Open</option>
                    <option>In Progress</option>
                    <option>Closed</option>
                    <option>Pending</option>
                  </select>
                </div>
                <div class="col-12 col-lg-2 col-xl-1">
                  <button class="btn btn-primary w-100" id="viewAllBtn">View All</button>
                </div>
              </div>
            </div>
          </section>

          <section class="card table-card">
            <div class="card-body p-0">
              <div class="table-responsive">
                <table class="table table-striped table-hover mb-0">
                  <thead class="table-light">
                    <tr>
                      <th>Id</th>
                      <th>Date</th>
                      <th>Company Name</th>
                      <th>Customer</th>
                      <th>SC Inv to Packer</th>
                      <th>SC Inv to Customer</th>
                      <th>Packer Inv</th>
                      <th>Buyers PO/Contract</th>
                      <th>ETD</th>
                      <th>ETA</th>
                      <th>LSD</th>
                      <th>Status</th>
                      <th>SH Date</th>
                      <th>Organization</th>
                      <th>Sate</th>
                      <th>PDF</th>
                    </tr>
                  </thead>
                  <tbody id="transactionsBody"></tbody>
                </table>
              </div>
            </div>
            <div class="card-footer bg-white border-0 pb-3">
              <nav aria-label="Transactions pagination">
                <ul class="pagination justify-content-center mb-0" id="pagination"></ul>
              </nav>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script>
      const companyNames = [
        "NorthStar Trade",
        "BlueWave Exports",
        "Orion Logistics",
        "Delta Industrial",
        "Pinnacle Foods",
        "Skyline Marine",
        "TerraBulk"
      ];
      const customerNames = [
        "Apex Retail",
        "Prime Distributors",
        "Vertex Supplies",
        "Metro Wholesale",
        "Global Mart",
        "Harbor Traders"
      ];
      const organizations = ["Org A", "Org B", "Org C", "Org D", "Org E"];
      const states = ["CA", "NY", "TX", "FL", "WA", "IL", "AZ", "PA"];
      const statuses = ["Open", "In Progress", "Closed", "Pending", "OverDue"];

      function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function randomFrom(list) {
        return list[randomInt(0, list.length - 1)];
      }

      function randomDate(startYear = 2024, endYear = 2026) {
        const start = new Date(startYear, 0, 1).getTime();
        const end = new Date(endYear, 11, 31).getTime();
        const date = new Date(randomInt(start, end));
        const yyyy = date.getFullYear();
        const mm = String(date.getMonth() + 1).padStart(2, "0");
        const dd = String(date.getDate()).padStart(2, "0");
        return `${yyyy}-${mm}-${dd}`;
      }

      function buildMockData(count) {
        const data = [];
        for (let i = 1; i <= count; i += 1) {
          data.push({
            id: `TX-${String(1000 + i)}`,
            date: randomDate(),
            company: randomFrom(companyNames),
            customer: randomFrom(customerNames),
            scInvPacker: `SCP-${randomInt(20000, 99999)}`,
            scInvCustomer: `SCC-${randomInt(20000, 99999)}`,
            packerInv: `PK-${randomInt(10000, 99999)}`,
            poContract: `PO-${randomInt(30000, 99999)}`,
            etd: randomDate(),
            eta: randomDate(),
            lsd: randomDate(),
            status: randomFrom(statuses),
            shDate: randomDate(),
            organization: randomFrom(organizations),
            sate: randomFrom(states)
          });
        }
        return data;
      }

      const rowsData = buildMockData(67);
      const pageSize = 10;
      let currentPage = 1;

      const tbody = document.getElementById("transactionsBody");
      const pagination = document.getElementById("pagination");
      const viewAllBtn = document.getElementById("viewAllBtn");

      function renderTable(page) {
        const start = (page - 1) * pageSize;
        const end = start + pageSize;
        const pageRows = rowsData.slice(start, end);
        tbody.innerHTML = pageRows
          .map(
            (row) => `
          <tr>
            <td><a href="transaction-details.html?id=${row.id}">${row.id}</a></td>
            <td>${row.date}</td>
            <td>${row.company}</td>
            <td>${row.customer}</td>
            <td>${row.scInvPacker}</td>
            <td>${row.scInvCustomer}</td>
            <td>${row.packerInv}</td>
            <td>${row.poContract}</td>
            <td>${row.etd}</td>
            <td>${row.eta}</td>
            <td>${row.lsd}</td>
            <td><span class="badge text-bg-secondary">${row.status}</span></td>
            <td>${row.shDate}</td>
            <td>${row.organization}</td>
            <td>${row.sate}</td>
            <td><a href="#" class="btn btn-sm btn-outline-primary">PDF</a></td>
          </tr>
        `
          )
          .join("");
      }

      function createPageItem(label, page, disabled, active) {
        const li = document.createElement("li");
        li.className = `page-item${disabled ? " disabled" : ""}${active ? " active" : ""}`;
        const a = document.createElement("a");
        a.className = "page-link";
        a.href = "#";
        a.textContent = label;
        a.addEventListener("click", (event) => {
          event.preventDefault();
          if (disabled) return;
          currentPage = page;
          render();
        });
        li.appendChild(a);
        return li;
      }

      function renderPagination() {
        const totalPages = Math.ceil(rowsData.length / pageSize);
        pagination.innerHTML = "";

        pagination.appendChild(createPageItem("Prev", Math.max(1, currentPage - 1), currentPage === 1, false));

        for (let i = 1; i <= totalPages; i += 1) {
          pagination.appendChild(createPageItem(String(i), i, false, i === currentPage));
        }

        pagination.appendChild(
          createPageItem("Next", Math.min(totalPages, currentPage + 1), currentPage === totalPages, false)
        );
      }

      function render() {
        renderTable(currentPage);
        renderPagination();
      }

      viewAllBtn.addEventListener("click", () => {
        currentPage = 1;
        render();
      });

      render();
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

